{"version":3,"sources":["node_modules/browser-pack/_prelude.js","scripts/site.js"],"names":["$","slick","autoplay","autoplaySpeed","arrows","dots","mobileFirst","swipeToSlide","getHeadingPositions","map","categoryHeadings","heading","offset","top","animationFrame","scrolled","updateActiveLink","requestAnimationFrame","categoryHeadingPositions","scrollTop","window","scrollBottom","document","height","lastLinkIndex","categoryLinks","length","currentSection","reduce","prev","curr","index","activeLinkIndex","forEach","link","dataset","linkActive","Array","prototype","slice","call","querySelectorAll","on","addEventListener","e","preventDefault","targetHash","target","href","match","targetSection","animate","location","hash"],"mappings":"AAAA;YCMAA,GAAE,uBAAuBC,OACrBC,UAAU,EACVC,cAAe,IACfC,QAAQ,EACRC,MAAM,EAENC,aAAa,EACbC,cAAc,IAKlBP,EAAE,WAOE,QAASQ,KACL,MAAOR,GAAES,IAAIC,EAAkB,SAASC,GACpC,MAAOX,GAAEW,GAASC,SAASC,MAInC,QAASC,KACFC,IACCC,IACAD,GAAW,GAEfE,sBAAsBH,GAI1B,QAASE,KACL,GAAIE,GAA2BV,IAEzBW,EAAYnB,EAAEoB,QAAQD,YACtBE,EAAerB,EAAEsB,UAAUC,SAAWvB,EAAEoB,QAAQG,SAChDC,EAAgBC,EAAcC,OAAS,EAEvCC,EAAiBT,EAAyBU,OAAO,SAASC,EAAMC,EAAMC,GAExE,MAAgB,IAAbZ,EACQ,EACDA,GAAcW,EAAO,IACpBC,EACDZ,IAAcE,EACbG,EAEJK,IAEP,EAEDF,KAAmBK,IAClBP,EAAcQ,QAAQ,SAACC,GACnBA,EAAKC,QAAQC,WAAa,UAG9BX,EAAcE,GAAgBQ,QAAQC,WAAa,QA9C3D,GAAIrB,IAAW,EAETL,EAAmBV,EAAE,YACrByB,EAAgBY,MAAMC,UAAUC,MAAMC,KAAKlB,SAASmB,iBAAiB,uBACvET,GAAmB,CAevBf,uBAAsBH,GA+BtBd,EAAEoB,QAAQsB,GAAG,SAAU,WACnB3B,GAAW,IAGfU,EAAcQ,QAAQ,SAACC,GACnBA,EAAKS,iBAAiB,QAAS,SAASC,GACpCA,EAAEC,gBACF,IAAMC,GAAaF,EAAEG,OAAOC,KAAKC,MAAM,WAAW,GAC5CC,EAAgBlD,EAAAA,IAAM8C,EAG5B9C,GAAE,cAAcmD,SACZhC,UAAY+B,EAActC,SAASC,KACpC,WACCO,OAAOgC,SAASC,KAAOP,EAEvBrB,EAAcQ,QAAQ,SAACC,GACnBA,EAAKC,QAAQC,WAAa,UAG9BQ,EAAEG,OAAOZ,QAAQC,WAAa","file":"bundle.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","// Main JS should go here!\n// Include scripts using Browserify by doing:\n// var $ = require(\"jquery\");\n\n// require(\"./toggle\");\n        \n$('.gallery__container').slick({\n    autoplay: true,\n    autoplaySpeed: 3000,\n    arrows: false,\n    dots: true,\n    // appendDots: $('.carousel'),\n    mobileFirst: true,\n    swipeToSlide: true\n});\n\n// Navigation behavior =========================================\n\n$(function(){\n    let scrolled = true;\n\n    const categoryHeadings = $(\".heading\");\n    const categoryLinks = Array.prototype.slice.call(document.querySelectorAll(\".primary-nav__link\"));\n    let activeLinkIndex = -1;\n    \n    function getHeadingPositions() {\n        return $.map(categoryHeadings, function(heading) {\n            return $(heading).offset().top;\n        });\n    }\n\n    function animationFrame() {\n        if(scrolled) {\n            updateActiveLink();\n            scrolled = false;\n        }\n        requestAnimationFrame(animationFrame);\n    }\n    requestAnimationFrame(animationFrame); \n\n    function updateActiveLink() {\n        let categoryHeadingPositions = getHeadingPositions();\n        //Changed body to window for FF\n        const scrollTop = $(window).scrollTop();\n        const scrollBottom = $(document).height() - $(window).height();\n        const lastLinkIndex = categoryLinks.length - 1;\n    \n        const currentSection = categoryHeadingPositions.reduce(function(prev, curr, index) {\n            \n            if(scrollTop == 0) {\n                return 0;\n            } else if(scrollTop >= (curr - 100)) {\n                return index;\n            } else if(scrollTop === scrollBottom) {\n                return lastLinkIndex;\n            } \n            return prev;\n\n        }, -1);\n\n        if(currentSection !== activeLinkIndex) {\n            categoryLinks.forEach((link) => {\n                link.dataset.linkActive = \"false\";\n            });\n\n            categoryLinks[currentSection].dataset.linkActive = \"true\";\n        }\n    }\n\n    $(window).on(\"scroll\", function(){\n        scrolled = true;\n    });\n\n    categoryLinks.forEach((link) => {\n        link.addEventListener(\"click\", function(e) {\n            e.preventDefault();\n            const targetHash = e.target.href.match(/.*#(.*)/)[1]; \n            const targetSection = $(`#${targetHash}`);\n\n            //Add HTML for FF scroll animation\n            $(\"body, html\").animate({\n                scrollTop:  targetSection.offset().top\n            }, function() {\n                window.location.hash = targetHash;\n                \n                categoryLinks.forEach((link) => {\n                    link.dataset.linkActive = \"false\";\n                });\n\n                e.target.dataset.linkActive = \"true\";\n            });\n        });\n    });\n});"]}